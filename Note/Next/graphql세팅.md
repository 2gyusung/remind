# GraphQL Setting

# apollo-client 셋팅하기

playground 에서 실습했던 내용의 코드를 vscode에서 적용하기 위해서는 apollo-client라는 도구가 필요합니다.

만약, 아직 apollo-client를 해당 프로젝트 폴더에 설치하지 않았다면 지금 설치해 주세요!

apollo-client를 설치한 후, 사용하기 위해서 처음 1번 셋팅이 필요합니다.

먼저, apollo-setting.tsx 파일을 만들어 아래 코드를 작성해줍니다.

```tsx
// src/commons/settings/06-02-apollo-setting.tsx
"use client"

import { ApolloClient, ApolloProvider, InMemoryCache } from "@apollo/client";

interface IApolloSetting {
    children: React.ReactNode
}
export default function ApolloSetting(props: IApolloSetting) {
    const client = new ApolloClient({
        uri: "http://main-example.codebootcamp.co.kr/graphql",
        cache: new InMemoryCache()
    })    

    return (
        <ApolloProvider client={client}>
            {props.children}
        </ApolloProvider>
    )
}
```

- **`ApolloSetting`** 컴포넌트는 GraphQL API와 상호작용할 수 있도록 설정된 Apollo Client를 React 애플리케이션의 루트에 제공하는 역할을 합니다.
- `ApolloProvider`를 사용하여 Apollo Client 인스턴스를 자식 컴포넌트에 주입합니다.
- TypeScript를 사용하여 `props` 타입을 명시적으로 정의하고 있습니다.
- `InMemoryCache`를 사용하여 쿼리 결과를 메모리에 캐싱하여 성능을 최적화합니다.

작성을 완료한 후, `layout.tsx` 파일에 다음 코드를 추가하여 모든 페이지에서 Apollo Client를 설정할 수 있습니다

```tsx
// src/app/layout.tsx
import ApolloSetting from '@/commons/settings/apollo-setting'
import './globals.css'
import { Inter } from 'next/font/google'

const inter = Inter({ subsets: ['latin'] })

export const metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <div>==============레이아웃? 모든 페이지의 공통 조상=============</div>
        <ApolloSetting>
          {children}
        </ApolloSetting>
        <div>==============레이아웃? 모든 페이지의 공통 조상=============</div>
      </body>
    </html>
  )
}
```

이 코드는 `RootLayout` 컴포넌트에서 `ApolloSetting` 컴포넌트를 사용하여 모든 페이지에서 Apollo Client를 제공하고 설정합니다. `RootLayout`은 Next.js 애플리케이션의 모든 페이지에서 공통적으로 사용되는 레이아웃으로, 페이지의 `children`을 감싸서 Apollo Client를 통해 GraphQL API와 통신할 수 있도록 합니다.

---

# URN, URL, URI 소개

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/9c9b02bc-6cb6-4924-bf38-dad25e0fe77b/5c9f7e47-8245-4dc6-a04a-a2ab631055bb/Untitled.png)

## URI (Uniform Resource Identifier)

URI는 웹에서 자원을 식별하는 데 사용되는 문자열의 집합입니다. URI는 두 가지로 나뉠 수 있어요.

URI는 URL과 URN을 포함하는 상위 개념이라고 생각하면 됩니다!

- **프로토콜**: 자원에 접근하는 방법 (예: `http`, `https`, `ftp`)
- **호스트**: 자원이 있는 서버의 주소 (예: `www.example.com`)
- **경로**: 서버 내에서 자원의 위치 (예: `/path/to/resource`)
- **쿼리 문자열**: 추가 매개변수 (예: `?key=value`)
- **앵커 또는 프래그먼트**: 문서 내 특정 위치 (예: `#section1`)

## URL (Uniform Resource Locator)

URL은 자원의 위치를 지정하는 URI입니다. URL은 우리가 흔히 웹 주소라고 부릅니다. URL은 자원에 어떻게 접근할 수 있는지를 명확히 나타낼 수 있어요.

## URN (Uniform Resource Name)

URN은 자원의 이름을 지정하는 URI입니다. URN은 자원의 위치와는 무관하게 자원을 고유하게 식별하는 데 사용됩니다. URN은 자원이 어디에 있든지 동일한 URN을 가질 수 있어요.