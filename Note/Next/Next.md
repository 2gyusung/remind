### 기존 자바스크립트

기본적인 자바스크립트 프로젝트는 별다른 빌드 도구나 프레임워크를 사용하지 않고, 단순한 HTML, CSS, JavaScript 파일로 구성됩니다.

- 작은 규모의 프로젝트에 적합한 구조입니다.
- 별도의 빌드 과정이 없고, 브라우저에서 바로 실행할 수 있습니다.
- 폴더 구조가 단순하여 빠르게 시작할 수 있지만, 큰 프로젝트에서는 유지보수가 어려울 수 있습니다.

### React

React는 컴포넌트 기반의 라이브러리로, 규모가 커질 수 있는 웹 애플리케이션을 만들 때 효율적입니다. 기본적으로 `create-react-app`을 통해 프로젝트를 생성하면, 프로젝트 구조가 자동으로 설정됩니다.

- **컴포넌트 기반 구조**: 각 UI 요소는 독립적인 컴포넌트로 나뉘어 관리됩니다. 이로 인해 유지보수가 용이해집니다.
- **강력한 개발 도구 지원**: 빌드, 배포, 테스트 등의 자동화된 워크플로를 지원하는 도구가 많습니다.

### Next.js

Next.js는 React를 기반으로 하는 프레임워크로, 서버사이드 렌더링(SSR), 정적 사이트 생성(SSG), API 라우팅 등을 지원합니다. Next.js는 페이지 라우팅, 서버 기능 등을 기본적으로 제공하므로, 더 복잡하고 기능이 많은 폴더 구조를 가지고 있습니다.

- **파일 기반 라우팅**: `app` 폴더 내의 디렉토리와 파일 이름이 곧 URL 경로가 됩니다.
- **다양한 빌드 옵션**: API 라우팅, 이미지 최적화, 자동 코드 스플리팅 등 다양한 기능을 내장하고 있습니다.


## Next.js 설치

### Step 1: 프로젝트를 설치할 폴더에 Next.js 프로젝트를 설치해주세요.

1.  **nextjs 홈페이지 접속(https://nextjs.org/) 또는 구글에서 nextjs를 검색해 주세요.**
2.  **Docs를 클릭해 주세요.**

```
❗️npx-create-next-app@latest 란?
    → Next.js 프로젝트를 설치할 때 가장 최신버전의 next app을 설치하게 됩니다.
```

1. **`npx create-next-app`를 복사하여 자신의 "frontend” 폴더에서 붙여넣기를 하고 엔터키를 눌러주세요.**
    - 설치될 넥스트 버전이 나오게 되고, `Ok to proceed?` 메세지가 나타나게 됩니다. 
    y를 작성하고 엔터키를 눌러서 다음 단계를 진행해 주세요.(이 단계 없이 바로 프로젝트 이름을 입력하라는 메세지가 나올 수 있습니다. 상관 없으니 넘어가주셔도 좋습니다.)

    <img src="../img/next 설치.webp"/>

    프로젝트 이름을 입력하라고 나옵니다. class-practice 라고 입력한 뒤에 엔터키를 눌러주세요.  
    <img src="../img/next 설치2.webp"/>

    이 때, my-app 대신 원하는 디렉토리명을 작성해도 좋고, .을 입력하면 현재 위치한 디렉토리에 넥스트 프로젝트가 설치됩니다.
    <img src="../img/next 설치3.webp"/>

    설치 시 아래와 같은 메시지가 표시됩니다.
    <img src="../img/next 설치4.webp"/>

    Step 2: Next.js 프로젝트가 만들어졌습니다. 해당 폴더로 이동해 주세요.
    <img src="../img/next 설치5.webp"/>

    ### **Step 3: node_modules 폴더를 삭제해주세요.**

- `node_modules` 폴더는 패키지를 설치할 때 자동으로 생성되는 폴더인데, 만약 `npm`을 사용해서 설치했다면 npm의 구조에 맞게 패키지들이 저장되어 있을 겁니다.
- 만약 이후에 **`yarn`**으로 패키지를 설치하려면 `npm`이 만들어놓은 구조와 충돌하거나 중복되는 문제가 발생할 수 있기 때문에 **기존의 `node_modules` 폴더를 삭제**하고 새로 yarn으로 패키지를 설치하는 것이 좋습니다.


### **Step 4: 우리는 이제 npm을 사용하지 않을 것입니다. yarn을 사용할 것 입니다.**

yarn은 **최상위 폴더로 이동해서 설치**를 진행해주셔야 합니다.(`frontend` 폴더)

`npm install -g yarn` 명령어를 입력합니다. 
만일 관리자 권한 문제[ permission denied ]가 발생 했다면, `sudo npm install -g yarn` 을 입력해주세요.

sudo 명령어를 사용하셨다면, 비밀번호를 입력하셔야 합니다.

비밀번호는 노트북 비밀번호를 입력하시면 됩니다. 

비밀번호는 입력해도 보이지 않는게 정상이니 입력하시고 엔터를 눌러주시면 됩니다.

yarn이 제대로 설치되었는지 확인은 `yarn -v` 를 입력하시면 버전이 뜰 것 입니다.
```
💡 모두 설치했는지 확인하기 
node --v
npm --v
yarn --v
```

> **‼️ React로 새 프로젝트를 시작할 때 프레임워크를 사용하는 이유 ([참고](https://react.dev/learn/start-a-new-react-project))**
> 
> 
> **React로 앱이나 웹사이트를 만들 때, 프레임워크를 사용하는 것이 더 쉽고 효율적이라고 권장**합니다. 그래서 18버전인 React 공식문서에는 cra에 관한 설명이 거의 없습니다. 그 이유는, React 자체는 화면을 구성하는 데만 집중하고 있어 추가적인 기능들을 직접 만들어야 하기 때문이에요.
> 
> **왜 프레임워크가 필요할까요?**
> 
> - **페이지 간 이동(라우팅)**: 여러 페이지를 만들고 이동하는 기능이 필요합니다.
> - **데이터 불러오기**: 외부 API에서 데이터를 가져오는 작업이 자주 필요하죠.
> - **검색 엔진 최적화(SEO)**: 페이지가 검색 결과에 잘 나타나게 HTML을 미리 만들어야 할 때가 있습니다.
> 
> 이런 기능들은 React만으로는 직접 구현해야 하지만, **Next.js** 같은 프레임워크를 사용하면 이런 기능들이 기본으로 제공되어 훨씬 쉽게 프로젝트를 만들 수 있어요.
>


## yarn dev 실습 및 HTML, CSS 변경

### **`yarn dev` 명령어 실행**

`yarn dev` 명령어는 프로젝트를 로컬 개발 환경에서 실행할 수 있게 해줍니다.

1. 프로젝트 루트 디렉터리에서 터미널을 열고, 다음 명령어를 입력합니다.
    
    ```bash
    yarn dev
    ```
    
2. 명령어를 실행하면, 기본적으로 **http://localhost:3000** 에서 프로젝트가 실행됩니다.
3. 브라우저를 열고 `http://localhost:3000`에 접속하여 프로젝트가 잘 실행되는지 확인합니다.
    1. 이 전에, 해당 프로젝트에서 `yarn install` 을 통해 모든 패키지가 설치되어야 합니다.

    ### HTML, CSS 변경

프로젝트 설치를 완료하셨나요? 

Next.js는 React 기반 프레임워크이므로, HTML과 CSS는 `jsx/tsx` 파일 안에서 수정하게 됩니다. 이때 HTML은 JSX로 작성되며, CSS는 `style` 태그나 `.module.css`, 혹은 `styled-components` 등을 사용할 수 있습니다.

**HTML 수정 방법**:

1. `pages/index.tsx` 파일을 열어 기본 페이지의 구조를 확인합니다. 예를 들어 다음과 같은 JSX 코드가 있을 수 있습니다.


<!-- 섹션 04 next 세상 참고 노션 -->

## 신규 페이지 만들기

### **1단계: app 폴더 확인하기**

먼저, 프로젝트에서 `app` 폴더가 있는지 확인하세요. 보통 Next.js 프로젝트를 처음 생성하면 기본적으로 `app` 폴더가 만들어져 있을 거예요.

`app` 폴더 안에는 **기본 페이지**로 사용될 `page.tsx` 파일이 있고, 여기서 첫 화면이 렌더링됩니다.

### **2단계: 새로운 페이지를 위한 폴더 만들기**

Next.js에서 새로운 페이지를 추가하려면 **폴더**를 먼저 만들어야 합니다. 예를 들어, `/about`이라는 페이지를 만들고 싶다면 `app` 폴더 안에 `about`이라는 폴더를 만듭니다.

- 경로: `app/about`

### **3단계: 페이지 파일 추가하기**

새롭게 만든 `app/about` 폴더 안에 `page.tsx` 파일을 추가합니다. 이 `page.tsx` 파일이 바로 `/about` URL로 접근할 때 보여줄 페이지를 담당합니다.

- 경로: `app/about/page.tsx`


### **4단계: 새 페이지 확인하기**

페이지를 만들었으니, 로컬 서버에서 페이지가 제대로 나오는지 확인해봅시다. 터미널에서 Next.js 서버를 실행합니다.

```bash
yarn dev
```

서버가 실행되면 브라우저에서 `http://localhost:3000/about`로 접속하세요. 우리가 방금 만든 `/about` 페이지가 브라우저에 나타날 거예요.

### **페이지 네이밍 규칙**

Next.js의 App Router에서는 디렉토리 구조가 URL 구조와 일치합니다. 예를 들어:

- `app/home/page.tsx` -> `/home` URL
- `app/products/page.tsx` -> `/products` URL

즉, 폴더 이름이 곧 URL 경로가 되기 때문에 폴더 이름을 어떻게 설정하느냐가 중요합니다.

## layout.tsx, page.tsx

Next.js 13 버전부터는 새로운 `App Router` 기능이 도입되어 기존의 `pages` 폴더 기반 라우팅 대신 `app` 폴더를 사용할 수 있게 되었으며, 이로 인해 `layout.tsx`와 `page.tsx` 파일의 사용이 중요해졌습니다.

### `layout.tsx`

- **역할**: `layout.tsx`는 Next.js에서 공통 레이아웃을 정의하는 데 사용됩니다. 특정 폴더 내의 모든 페이지에서 공유될 레이아웃을 정의하고, 이 파일이 있는 폴더 하위에 있는 모든 페이지에 적용됩니다.
- **위치**: `app` 디렉토리 내의 특정 경로에 배치되며, 그 경로 하위에 있는 모든 페이지에 공통적으로 적용되는 레이아웃을 정의합니다. 예를 들어, `app/dashboard/layout.tsx`는 `app/dashboard` 하위의 모든 페이지에 공통 레이아웃을 제공합니다.

### `page.tsx`

- **역할**: `page.tsx`는 Next.js에서 각각의 개별 페이지를 정의하는 데 사용됩니다. 이 파일은 해당 경로에 대한 React 컴포넌트를 나타내며, 라우트가 일치할 때 렌더링됩니다.
- **위치**: `app` 디렉토리 내의 특정 경로에 배치됩니다. 예를 들어, `app/about/page.tsx`는 `/about` 경로로 접근할 때 렌더링되는 페이지 컴포넌트를 정의합니다.